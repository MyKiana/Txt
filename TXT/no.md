# cmake学习笔记

## 一、C/C++源码的编译流程

1. **预处理（Preprocessing）**

   预处理是编译过程的第一阶段。预处理器（cpp）读取源代码，处理以`#`开头的预处理指令，如`#include`、`#define`等。预处理器将头文件的内容插入到源文件中，展开所有的宏定义，并处理条件编译指令。处理完成后，生成一个`.i`文件（通常这个文件不直接生成，而是直接传递给下一阶段的编译器）。

2. **编译（Compilation）**

   编译是编译过程的第二阶段。编译器（通常是`cc1`或类似的工具）将预处理后的代码转换为汇编语言代码。编译器检查源代码的语法和语义错误，并生成一个或多个`.s`文件，每个文件包含特定于目标机器架构的汇编代码。

3. **汇编（Assembly）**

   汇编是编译过程的第三阶段。汇编器（as）将编译器产生的汇编代码转换为机器代码，生成一个或多个`.o`（目标）文件。这些文件包含了可在特定机器上执行的二进制指令。

4. **链接（Linking）**

   链接是编译过程的最后阶段。链接器（ld）将多个目标文件以及必要的库文件合并成一个可执行文件或库文件。链接器处理函数和变量之间的引用，并解决符号（即函数名和变量名）之间的依赖关系。如果链接器找不到某个符号的定义，就会报错。

   链接分为静态链接和动态链接。静态链接会将所有需要的库直接嵌入到最终的可执行文件中，导致文件较大，但运行时不需要额外的库文件。动态链接则只在可执行文件中保留对库文件的引用，实际运行时需要加载相应的库文件。

​		最终生成的可执行文件（如`.out`、`.exe`等）可以直接在目标机器上运行。需要注意的是，不同的编译器和构建系统可能对这个过程有不同的实现和命名，但基本概念和步骤是相似的。例如，GCC（GNU Compiler Collection）是一个常用的C语言编译器，它使用了一个前端工具`gcc`来封装整个编译过程，使得用户可以通过一个简单的命令完成从源代码到可执行文件的转换。



## 二、cmake语法思想

### (1)语法

1.指定最低使用的CMake版本

```cmake

```

1.设置项目名字

```cmake
#xxx是项目的名字
project(xxx)
```

2.指定生成可执行文件的名称和相关源文件,用来生成可执行文件

```cmake
#sss是使用xxx.cpp生成的源码
add_executable(sss xxx.cpp) 
```

3.

